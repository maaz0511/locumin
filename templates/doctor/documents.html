{% extends "doctor/base_doctor.html" %}

{% block content %}
<h2>Upload Documents</h2>
<p>Upload your credentials to increase trust and get more acceptances.</p>

<form method="POST" action="{{ url_for('doctor_upload_document') }}" enctype="multipart/form-data">
    <div class="form-group">
        <label for="document_type">Document Type *</label>
        <select name="document_type" id="document_type" required>
            <option value="">Select Type</option>
            <option>Aadhar Card</option>
            <option>PAN Card</option>
            <option>Medical Degree</option>
            <option>Registration Certificate</option>
            <option>Experience Certificate</option>
            <option>Other</option>
        </select>
    </div>
    <div class="form-group">
        <label for="document_file">Upload File *</label>
        <input type="file" name="document_file" id="document_file" accept=".pdf,.jpg,.jpeg,.png" required>
    </div>
    <button type="submit" class="btn-large">Upload Document</button>
</form>

<h2 style="margin-top: 4rem;">Uploaded Documents</h2>
{% if current_user.documents %}
<table class="table">
    <thead>
        <tr>
            <th>Type</th>
            <th>File</th>
            <th>Uploaded On</th>
        </tr>
    </thead>
    <tbody>
        {% for doc in current_user.documents %}
        <tr>
            <td>{{ doc.document_type }}</td>
            <td><a href="{{ doc.file_path }}" target="_blank">View / Download</a></td>
            <td>{{ doc.uploaded_at.strftime('%d %b %Y') }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No documents uploaded yet.</p>
{% endif %}
{% endblock %}